{% extends 'base.html' %}
{% load static %}

{% block content %}

<style type="text/css">
  .index-form-card {
	border: 3px solid black;
	background-color: white;
	width: 100%;
	max-width: 400px;
	padding: 15px;
	margin: auto;
  }

  .index-form-card input{
    margin-bottom: 20px;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
  }

</style>

<div class="container-fluid">
	<div class="row justify-content-center">
		<div class="index-form-card rounded">
            <div class="card-header">
                <h3>Chatroom Paticulars</h3>
            </div>
            <div class="card-body">
                <p class="font-italic">**For default public chat Just hit enter with the following presaved input values!</p>

                <p>What chat room would you like to enter?</p>
                <input id="room-name-input" type="text" value="Default"><br>
                
                <p>Username</p>
                <input class="mb-2 username-input" id="username-input" type="text" value="{{username}}" disabled><br>
                
                <input class="btn btn-dark btn-block" id="room-name-submit" type="button" value="Enter">
            </div>
		</div>
	</div>
</div>

<script>
    document.querySelector('#room-name-input').focus();
    document.querySelector('#room-name-input').onkeyup = function(e) {
        if (e.keyCode === 13) {  // enter, return
            document.querySelector('#room-name-submit').click();
        }
    };

    document.querySelector('#room-name-submit').onclick = function(e) {
        var roomName = document.querySelector('#room-name-input').value;
        var userName= document.querySelector('#username-input').value;
        window.location.replace('/chat/chatroom/' + roomName + '/?username=' + userName);
    };
</script>

{% endblock content %}
